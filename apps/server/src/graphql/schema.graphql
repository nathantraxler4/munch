type Recipe {
    name: String!
    ingredients: String!
    directions: String!
}

type Menu {
    courses: [Course!]!
    backgroundImage: String!
}

type Course {
    name: String!
    description: String!
    url: String!
}

type Error {
    message: String!
    code: String!
}

type PartialMenu {
    courses: [Course!]
    backgroundImage: String
}

union MenuStream = PartialMenu | Error

input RecipeInput {
    name: String!
    ingredients: String!
    directions: String!
    url: String!
}

type Query {
    recipes: [Recipe!]!
    menus: [Menu!]!
    generateMenu(recipes: [RecipeInput!]!): Menu!
}

type Mutation {
    addRecipes(recipes: [RecipeInput!]!): [Recipe!]!
    generateMenuFromPrompt(prompt: String!): Menu!
}

type Subscription {
    generateMenuFromPrompt(prompt: String!): MenuStream
}
